{"ast":null,"code":"import _slicedToArray from\"F:/final_year_project/latest/Compressed/Final-Year-Project-ApnaSamaan-main/final-year/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from'react';import{db}from\"../firebase\";import{useState,useEffect}from'react';import{BiSearchAlt,BiHeart}from\"react-icons/bi\";import{FaShoppingCart}from\"react-icons/fa\";import{MdDelete}from\"react-icons/md\";import firebase from\"firebase/app\";import\"./addtocart.css\";import{Link}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function AddToCart(_ref){var user=_ref.user;var docRef=db.collection(\"addtocart\").doc(user.uid);var _useState=useState([]),_useState2=_slicedToArray(_useState,2),mycart=_useState2[0],setmycart=_useState2[1];useEffect(function(){db.collection(\"addtocart\").get().then(function(querySnapshot){querySnapshot.forEach(function(doc){if(user.uid==doc.id)// doc.data() is never undefined for query doc snapshots\nsetmycart(doc.data().cart);});}).catch(function(error){console.log(\"Error getting documents: \",error);});},[mycart]);var DeleteFromCart=function DeleteFromCart(Wooden){var docRef=db.collection(\"addtocart\").doc(user.uid);docRef.update({cart:firebase.firestore.FieldValue.arrayRemove(Wooden)});};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"container mycontainer\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"row  \",children:mycart.map(function(Wooden){return/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4\",children:/*#__PURE__*/_jsxs(\"div\",{class:\"box-cart\",children:[/*#__PURE__*/_jsx(\"img\",{src:Wooden.imgsrc,class:\"img-size\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"product-name\",children:[\" \",/*#__PURE__*/_jsx(\"center\",{children:/*#__PURE__*/_jsx(\"h4\",{children:Wooden.name})}),\" \"]}),/*#__PURE__*/_jsx(\"div\",{className:\"product-price\",children:/*#__PURE__*/_jsx(\"h3\",{children:/*#__PURE__*/_jsxs(\"b\",{children:[\"\\u20B9\",Wooden.price]})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"container mt-3  d-flex justify-content-around\",children:[\" \",/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-outline-danger product-icons\",\"data-bs-toggle\":\"tooltip\",\"data-bs-placement\":\"top\",title:\"add to wishlist \",children:/*#__PURE__*/_jsx(BiHeart,{className:\"product-icons\"})}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-outline-danger product-icons \",\"data-bs-toggle\":\"tooltip\",\"data-bs-placement\":\"top\",id:\"delete-product\",title:\"delete product\",onClick:function onClick(){DeleteFromCart(Wooden);},children:/*#__PURE__*/_jsx(MdDelete,{className:\"product-icons \"})}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-outline-danger product-icons\",\"data-bs-toggle\":\"tooltip\",id:\"add-cart\",\"data-bs-placement\":\"top\",title:\"add to cart\",children:/*#__PURE__*/_jsx(FaShoppingCart,{className:\"product-icons\"})})]}),\" \"]})});})}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-md\",children:/*#__PURE__*/_jsx(\"center\",{children:/*#__PURE__*/_jsx(Link,{to:\"/checkout\",children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",class:\"btn btn-danger btn-lg button-width\",children:\"Check Out\"})})})})})]})});}","map":{"version":3,"sources":["F:/final_year_project/latest/Compressed/Final-Year-Project-ApnaSamaan-main/final-year/src/add-to-cart/addtocart.js"],"names":["React","db","useState","useEffect","BiSearchAlt","BiHeart","FaShoppingCart","MdDelete","firebase","Link","AddToCart","user","docRef","collection","doc","uid","mycart","setmycart","get","then","querySnapshot","forEach","id","data","cart","catch","error","console","log","DeleteFromCart","Wooden","update","firestore","FieldValue","arrayRemove","map","imgsrc","name","price"],"mappings":"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","sourcesContent":["import React from 'react'\nimport {db} from \"../firebase\"\nimport { useState,useEffect } from 'react'\nimport {BiSearchAlt,BiHeart} from \"react-icons/bi\";\nimport {FaShoppingCart} from \"react-icons/fa\";\nimport { MdDelete } from \"react-icons/md\";\nimport firebase from \"firebase/app\";\nimport \"./addtocart.css\"\nimport { Link } from 'react-router-dom';\nexport default function AddToCart({user}) {\n\n    var docRef = db.collection(\"addtocart\").doc(user.uid)\n    const [mycart,setmycart]=useState([])    \n      useEffect(()=>{\ndb.collection(\"addtocart\")\n    .get()\n    .then((querySnapshot) => {\n        querySnapshot.forEach((doc) => {\n            \n            \n            if(user.uid==doc.id)\n            // doc.data() is never undefined for query doc snapshots\n            setmycart(doc.data().cart);\n        });\n    })\n    .catch((error) => {\n        console.log(\"Error getting documents: \", error);\n    });\n      },[mycart]);\n\n      const DeleteFromCart=(Wooden)=>{\n        var docRef=db.collection(\"addtocart\").doc(user.uid)\n    \n      docRef.update({\n        cart:firebase.firestore.FieldValue.arrayRemove(Wooden)\n    })\n    }\n      \n    return (\n        <>\n<div className=\"container mycontainer\">\n<div className=\"row  \">\n    \n{mycart.map((Wooden)=>{\n                  return(\n                    \n                \n        <div className=\"col-md-4\">\n           <div class=\"box-cart\">\n            <img src={Wooden.imgsrc} class=\"img-size\" />\n\n           <div className=\"product-name\"> <center><h4>{Wooden.name}</h4></center> </div>\n            <div className=\"product-price\"><h3><b>â‚¹{Wooden.price}</b></h3></div>\n           <div className=\"container mt-3  d-flex justify-content-around\"> <button className=\"btn btn-outline-danger product-icons\" data-bs-toggle=\"tooltip\" data-bs-placement=\"top\" title=\"add to wishlist \" ><BiHeart className=\"product-icons\"/></button>\n           <button className=\"btn btn-outline-danger product-icons \" data-bs-toggle=\"tooltip\" data-bs-placement=\"top\" id=\"delete-product\" title=\"delete product\" onClick={()=>{DeleteFromCart(Wooden)}} ><MdDelete className=\"product-icons \"/></button>\n                                  <button className=\"btn btn-outline-danger product-icons\"data-bs-toggle=\"tooltip\" id=\"add-cart\" data-bs-placement=\"top\" title=\"add to cart\"><FaShoppingCart className=\"product-icons\"/></button>\n           </div> </div>\n        </div>)\n              })}</div>\n              <div className=\"row\">\n                  <div className=\"col-md\">\n              <center><Link to=\"/checkout\"><button type=\"button\" class=\"btn btn-danger btn-lg button-width\">Check Out</button></Link></center>\n                  </div></div>\n                  </div>\n    </>\n    )\n}\n"]},"metadata":{},"sourceType":"module"}